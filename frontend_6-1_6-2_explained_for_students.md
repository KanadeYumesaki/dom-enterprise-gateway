# フロントエンド実装解説（中学生向け）

こんにちは！
今回は、**「DOM Enterprise Gateway」** という賢いチャットアプリ（AIと話せるアプリ）を作るための、**「アプリの心臓部分」** を作りました。

まだ画面のボタンなどは少ないですが、目に見えないところで働く大事な部品がたくさんできました。
それぞれの部品（ファイル）が何をしているのか、簡単に紹介します。

---

## 1. データの形を決める「設計図」 (Models)

プログラムの世界では、データを扱うときに「それは文字なの？数字なの？どんな名前がついてるの？」とあらかじめ決めておくと、ミスが減ります。

### `src/app/core/models/user.model.ts` (ユーザーの設計図)
- **役割:** 「ユーザー」というデータには、「ID」や「メールアドレス」や「権限（管理者かどうか）」が含まれるよ、というルールを決めています。
- **イメージ:** メンバーカードのフォーマットみたいなものです。

### `src/app/core/models/api-error.model.ts` (エラーの設計図)
- **役割:** 通信エラーが起きたときに、「何番のエラーか（404とか500とか）」「どんなメッセージを表示するか」をまとめておく箱です。
- **ポイント:** コンピュータ用の難しいエラーメッセージを、人間（使う人）に分かりやすい日本語に翻訳する機能も持っています。

---

## 2. 働き者の「サービス」 (Services)

サービスは、画面の裏側でデータのやり取りや管理をしてくれる「係の人」です。

### `src/app/core/services/api.service.ts` (通信係)
- **役割:** バックエンド（サーバー）に手紙（データ）を送ったり、受け取ったりする係です。
- **すごいところ:**
    - エラーが起きても無視せず、ちゃんと「エラー起きたよ！」と報告してくれます。
    - **SSE (Server-Sent Events)** という技術を使って、AIからの返事をリアルタイムで（文字がパラパラ出るように）受け取る準備もしています。

### `src/app/core/services/auth.service.ts` (受付係)
- **役割:** ログインやログアウトを担当する係です。
- **仕事の流れ:**
    1. 「ログインしたい」と言われると、認証サーバー（Googleなどのログイン画面）へ案内します。
    2. 戻ってきたら、「今のユーザーは誰？」とサーバーに聞いて、結果を保存します。

### `src/app/core/services/state.service.ts` (記録係)
- **役割:** アプリ全体の「今の状態」をホワイトボードにメモしておく係です。
- **使う道具: Angular Signals (シグナル)**
    - これは最新の便利な機能で、データが書き換わると、それを見ている画面のパーツたちに「変わったよ！」と自動で知らせてくれます。
    - メモしていること：
        - 今ログインしている人
        - 今ロード中（読み込み中）かどうか
        - 画面の文字サイズやテーマ（ダークモードなど）

---

## 3. アプリ全体の設定 (Config / Environment)

### `src/app/app.config.ts`
- アプリを動かすための「初期設定」です。「通信機能を使います」「アニメーションを使います」といった宣言が書かれています。

### `src/environments/environment.ts`
- アプリが接続する「サーバーの住所」などを書いておく場所です。開発用と本番用で住所を切り替えられるようになっています。

---

## 今後の予定

これで「アプリの心臓」は動き出しました！
次は、この心臓を使って、実際にユーザーが操作する「ログイン画面」や「チャット画面」を作っていくことになります。
楽しみにしていてくださいね！
